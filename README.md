# MoneyPlugin

これは、Minecraftサーバーに包括的な経済システムを導入するためのSpigotプラグインです。
独自の通貨を基盤とし、アイテムの売買、価格変動、GUIショップ、ランキングなど、サーバー経済を活性化させるための多岐にわたる機能を提供します。

## ✨ 主な機能

- **独自通貨システム**: サーバー独自の通貨（デフォルト：KP）を導入します。
- **アイテム売買**:
    - `/sell` コマンドのGUIから手持ちのアイテムを売却できます。
    - 売却時には、どのアイテムがいくらで売れたかの詳細なレシートが発行されます。
- **価格変動システム**:
    - アイテムの市場価格が時間経過でランダムに変動します。
    - 次の価格更新までの時間がボスバーに表示され、プレイヤーは売り時・買い時を判断できます。
- **GUIショップ**:
    - `/shop` コマンドでアイテムを購入できるGUIショップを開けます。
    - 商品はジャンルごとに整理されており、`shop.yml` で自由にカスタマイズ可能です。
- **ランキング機能**:
    - 所持金やプレイ時間のサーバー内ランキングをスコアボードやコマンドで確認できます。
- **便利な情報表示**:
    - 画面右のスコアボードには、ランキングやアイテム価格が自動で切り替わり表示されます。
    - アクションバーには、常に自分の座標と最寄りのプレイヤーが表示されます。
- **管理者向け機能**:
    - プレイヤーの所持金操作や、アイテム価格をゲーム内コマンドで簡単に設定できます。
- **ユーティリティ**:
    - 全員が使える共有チェスト (`/pocket`) や、運営に要望を送る機能 (`/request`) も搭載しています。

## 📖 コマンド一覧

### プレイヤー向けコマンド

| コマンド | 説明 |
|:---|:---|
| `/money` | 自分の所持金を表示します。 |
| `/pay <プレイヤー> <金額>` | 他のプレイヤーにお金を送ります。 |
| `/want <プレイヤー> <金額>` | 他のプレイヤーにお金を要求するメッセージを送ります。 |
| `/sell` | アイテム売却用のGUIを開きます。 |
| `/shop` | GUIショップを開きます。 |
| `/pocket` | 共有チェストを開きます。 |
| `/ranking <money/playtime>` | 所持金またはプレイ時間のランキングを表示します。 |
| `/request <内容>` | 運営に要望を送信します。 |

### 管理者向けコマンド (OP権限必須)

| コマンド | 説明 |
|:---|:---|
| `/money_all` | オンライン中の全プレイヤーの所持金を表示します。 |
| `/setmoney <プレイヤー> <金額>` | プレイヤーの所持金を指定した額に設定します。 |
| `/setprices <ID> <日本語名> <min> <通常> <max>` | アイテムの価格情報（日本語名、価格帯）を設定・更新します。 |

## ⚙️ 設定ファイル

`/plugins/MoneyPlugin/` ディレクトリ内に以下の設定ファイルが生成されます。

- `config.yml`: 通貨単位、価格変動の間隔、スコアボードの表示内容など、プラグインの基本的な動作を設定します。
- `prices.yml`: `/sell` で売却できるアイテムの基準価格、最小・最大価格を設定します。
- `item-names.yml`: アイテムの日本語名を設定します。スコアボードやメッセージでこの名前が使われます。
- `shop.yml`: `/shop` で販売するアイテム、価格、ジャンルなどを設定します。
- `balances.yml`: プレイヤーの所持金やプレイ時間データが保存されます。（手動での編集は非推奨）
- `request.yml`: `/request` で送信された要望が記録されます。

## 🛠️ 導入方法

1.  `MoneyPlugin-x.x.x.jar` をサーバーの `plugins` フォルダに配置します。
2.  サーバーを再起動します。
3.  必要に応じて、生成された設定ファイル（`.yml`）を編集してください。
